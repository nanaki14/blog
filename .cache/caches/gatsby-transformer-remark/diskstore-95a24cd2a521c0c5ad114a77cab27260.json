{"expireTime":9007200819756838000,"key":"transformer-remark-markdown-html-db76ccad14e8b629f726502710091f2f-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":"<p>こんにちわ、ななきです。</p>\n<p>GW中にNuxt＋Vuexでポートフォリオサイトを作ったので紹介をしようかなと思います。</p>\n<p>ちなみに作ったサイトは<a href=\"https://nanaki.work/\" target=\"_blank\">こちら</a>です。</p>\n<p>可能ならPCで見ていただけるとすごく嬉しかったりします。</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">先日作ったポートフォリオサイト、PCで見るとかっこいいので是非見てください<a href=\"https://t.co/p4Hh7lUZM6\">https://t.co/p4Hh7lUZM6</a> <a href=\"https://t.co/qe1qNFvleC\">pic.twitter.com/qe1qNFvleC</a></p>&mdash; ななき/Futurize (@nanaki14) <a href=\"https://twitter.com/nanaki14/status/1127524357113126912?ref_src=twsrc%5Etfw\">2019年5月12日</a></blockquote>\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<h2>技術的な話</h2>\n<p>技術的な話をしますと、今回Nuxtのgenerateを使ってみんな大好き<a href=\"https://www.netlify.com/\" target=\"_blank\">Netlify</a>でホスティングしています。</p>\n<p>Netlify何ぞって方はとりあえず<a href=\"https://booth.pm/ja/items/1041767\" target=\"_blank\">こちら</a>の本を読んどくといいと思います。</p>\n<p>PC表示でのみあらわれるマウスに追従するあれは<a href=\"https://nanaki.design/javascript/pointer-move/\">以前作った自作ライブラリ？</a>を使ってます、みんな使ってね</p>\n<p>ローディングアニメーションに関してはVuexで状態の管理をしてます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const initialState = {\n  loading: true\n}\n\nexport const state = () =&gt; initialState\n\nexport const getters = {\n  isLoading: state =&gt; state.loading\n}\n\nexport const mutations = {\n  endLoding(state) {\n    state.loading = false\n  }\n}\n\nexport const actions = {\n  endLoding({ commit }) {\n    commit(&#39;endLoding&#39;)\n  }\n}</code></pre></div>\n<p>コンポーネントの実装は以下</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;script&gt;\nimport { mapGetters, mapActions } from &#39;vuex&#39;\n\nexport default {\n  computed: {\n    ...mapGetters({\n      isLoading: &#39;opening/isLoading&#39;\n    })\n  },\n  watch: {\n    isLoading: async function(next, prev) {\n      if (!next &amp;&amp; prev) {\n        // ここに好きなアニメーションとかの処理\n      }\n    }\n  },\n  mounted() {\n    window.addEventListener(&#39;load&#39;, async () =&gt; {\n      await this.$delay(1000) // PromiseでsetTimeOut返すプラグインです\n      this.endLoding()\n    })\n  },\n  methods: {\n    ...mapActions({\n      endLoding: &#39;opening/endLoding&#39;\n    })\n  }\n}\n&lt;/script&gt;</code></pre></div>\n<p>こうすることで初回のローディング時のみ任意の関数を発火出来ます。</p>\n<p>オープニングのアニメーション作りたい場合などにいいですね。</p>\n<p>次にページ遷移時のアニメーションです。</p>\n<p>ページ遷移時のアニメーションはtransitionというライフサイクルが用意されているのでこれを利用します。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;script&gt;\ntransition: {\n    enter(el, done) {\n      //フェードアウトさせる処理\n      () =&gt; {\n        // アニメーション完了時のコールバック\n        done()\n      }\n    }\n}\n&lt;/script&gt;</code></pre></div>\n<p>これだけです。</p>\n<p>この辺のアニメーションに関しては<a href=\"https://qiita.com/soichiro_nitta/items/8d8ce14fc287aa233ae6\" target=\"_blank\">新田というマッチョが書いた記事</a>がとてもいいので読んでみることをおすすめです。</p>\n<h2>まとめ</h2>\n<p>Nuxtを使うとめんどくさいところを吸収してくれつつ簡単にリッチな実装ができるのでいいですね</p>\n<p>ポートフォリオ作ってみたい！って方はNuxtを使って作ってみるといいと思います。</p>\n<p>作ってみたいけどわからないことがあるなどなど、簡単なアドバイスだったりお手伝いはできるのでお気軽にメッセージ等もいただければと思います。</p>"}