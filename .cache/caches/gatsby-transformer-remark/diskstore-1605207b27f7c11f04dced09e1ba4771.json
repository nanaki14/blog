{"expireTime":9007200819756365000,"key":"transformer-remark-markdown-ast-56939558e647c94b1fa67538e1a53b07-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"こんにちわ、ななきです。","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":13,"offset":13},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":13,"offset":13},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"TypeScript と Redux が楽しい今日このごろです。","position":{"start":{"line":4,"column":1,"offset":15},"end":{"line":4,"column":33,"offset":47},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":15},"end":{"line":4,"column":33,"offset":47},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"そんな中 react-redux の次期バージョンに HooksAPI が追加されていたのですこし触ってみました。","position":{"start":{"line":6,"column":1,"offset":49},"end":{"line":6,"column":58,"offset":106},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":49},"end":{"line":6,"column":58,"offset":106},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"API の詳細は","position":{"start":{"line":8,"column":1,"offset":108},"end":{"line":8,"column":9,"offset":116},"indent":[]}},{"type":"link","title":null,"url":"https://react-redux.js.org/next/api/hooks","children":[{"type":"text","value":"こちら","position":{"start":{"line":8,"column":10,"offset":117},"end":{"line":8,"column":13,"offset":120},"indent":[]}}],"position":{"start":{"line":8,"column":9,"offset":116},"end":{"line":8,"column":57,"offset":164},"indent":[]}},{"type":"text","value":"です。","position":{"start":{"line":8,"column":57,"offset":164},"end":{"line":8,"column":60,"offset":167},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":108},"end":{"line":8,"column":60,"offset":167},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"useStore","position":{"start":{"line":10,"column":4,"offset":172},"end":{"line":10,"column":12,"offset":180},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":169},"end":{"line":10,"column":12,"offset":180},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"useStore は Provider へ渡している store オブジェクトを参照できる関数です。","position":{"start":{"line":12,"column":1,"offset":182},"end":{"line":12,"column":51,"offset":232},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":182},"end":{"line":12,"column":51,"offset":232},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"使う前の準備としてはいつもどおり Provider に store を渡します。","position":{"start":{"line":14,"column":1,"offset":234},"end":{"line":14,"column":41,"offset":274},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":234},"end":{"line":14,"column":41,"offset":274},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">const store = createStore()\n\nexport default function App() {\n  return (\n    &lt;Provider store={store}&gt;\n      ...\n    &lt;/Provider&gt;\n  )\n}</code></pre></div>","position":{"start":{"line":16,"column":1,"offset":276},"end":{"line":26,"column":4,"offset":416},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"次にその下層コンポーネント内で useStore しましょう","position":{"start":{"line":28,"column":1,"offset":418},"end":{"line":28,"column":31,"offset":448},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":418},"end":{"line":28,"column":31,"offset":448},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import React from &#39;react&#39;\nimport { useStore } from &#39;react-redux&#39;\n\nconst Components = () =&gt; {\n  const store = useStore()\n\n  return (...)\n}</code></pre></div>","position":{"start":{"line":30,"column":1,"offset":450},"end":{"line":39,"column":4,"offset":595},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"これで store オブジェクトを参照できるようになります。","position":{"start":{"line":41,"column":1,"offset":597},"end":{"line":41,"column":31,"offset":627},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":597},"end":{"line":41,"column":31,"offset":627},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"ですが、直接 store を参照するのは推奨されていません、\n今までも","position":{"start":{"line":43,"column":1,"offset":629},"end":{"line":44,"column":5,"offset":664},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">connect()</code>","position":{"start":{"line":44,"column":5,"offset":664},"end":{"line":44,"column":16,"offset":675},"indent":[]}},{"type":"text","value":"を使用していたように Hooks でも","position":{"start":{"line":44,"column":16,"offset":675},"end":{"line":44,"column":35,"offset":694},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">useSelector</code>","position":{"start":{"line":44,"column":35,"offset":694},"end":{"line":44,"column":48,"offset":707},"indent":[]}},{"type":"text","value":"や","position":{"start":{"line":44,"column":48,"offset":707},"end":{"line":44,"column":49,"offset":708},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">useDispatch</code>","position":{"start":{"line":44,"column":49,"offset":708},"end":{"line":44,"column":62,"offset":721},"indent":[]}},{"type":"text","value":"という Hooks が用意されているのでそちらを見ていきましょう。","position":{"start":{"line":44,"column":62,"offset":721},"end":{"line":44,"column":95,"offset":754},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":629},"end":{"line":44,"column":95,"offset":754},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"useSelector","position":{"start":{"line":46,"column":4,"offset":759},"end":{"line":46,"column":15,"offset":770},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":756},"end":{"line":46,"column":15,"offset":770},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"useSelector では store の state を参照できるようになります。","position":{"start":{"line":48,"column":1,"offset":772},"end":{"line":48,"column":44,"offset":815},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":772},"end":{"line":48,"column":44,"offset":815},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import React from &#39;react&#39;\nimport { useSelector } from &#39;react-redux&#39;\n\nconst Components = () =&gt; {\n  const count = useSelector(state =&gt; state.count)\n\n  return (\n    &lt;div&gt;{counter}&lt;/div&gt;\n  )\n}</code></pre></div>","position":{"start":{"line":50,"column":1,"offset":817},"end":{"line":61,"column":4,"offset":1013},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"これは今までの connect の第一引数でやってたことですね。","position":{"start":{"line":63,"column":1,"offset":1015},"end":{"line":63,"column":33,"offset":1047},"indent":[]}}],"position":{"start":{"line":63,"column":1,"offset":1015},"end":{"line":63,"column":33,"offset":1047},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"useDispatch","position":{"start":{"line":65,"column":4,"offset":1052},"end":{"line":65,"column":15,"offset":1063},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":1049},"end":{"line":65,"column":15,"offset":1063},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"useDispatch は dispatch 関数を扱えるようになります。","position":{"start":{"line":67,"column":1,"offset":1065},"end":{"line":67,"column":38,"offset":1102},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":1065},"end":{"line":67,"column":38,"offset":1102},"indent":[]}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import React from &#39;react&#39;\nimport { useDispatch } from &#39;react-redux&#39;\n\nconst Components = () =&gt; {\n\n  const dispatch = useDispatch()\n\n  handleClick = useCallback(() =&gt; {\n    dispatch({ type: &#39;INCREMENT&#39; })\n  })\n\n  return (\n    &lt;button onClick={handleClick}&gt;increment&lt;/button&gt;\n  )\n}</code></pre></div>","position":{"start":{"line":69,"column":1,"offset":1104},"end":{"line":85,"column":4,"offset":1390},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Action の中身については以前と同じく type を持ったオブジェクトを渡す形ですね","position":{"start":{"line":87,"column":1,"offset":1392},"end":{"line":87,"column":45,"offset":1436},"indent":[]}}],"position":{"start":{"line":87,"column":1,"offset":1392},"end":{"line":87,"column":45,"offset":1436},"indent":[]}},{"type":"html","value":"<h2>まとめ</h2>","position":{"start":{"line":89,"column":1,"offset":1438},"end":{"line":89,"column":13,"offset":1450},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"そんなわけでさっくり HooksAPI 触ってみました。","position":{"start":{"line":91,"column":1,"offset":1452},"end":{"line":91,"column":29,"offset":1480},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":1452},"end":{"line":91,"column":29,"offset":1480},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"ただコード載せただけみたいになってしまったので不明な箇所があればドキュメント読むとか Twitter で絡んでくれるとかしてください","position":{"start":{"line":93,"column":1,"offset":1482},"end":{"line":93,"column":67,"offset":1548},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":1482},"end":{"line":93,"column":67,"offset":1548},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Hooks 個人的には今までの connect より好きなので早く使っていきたいですね。","position":{"start":{"line":95,"column":1,"offset":1550},"end":{"line":95,"column":45,"offset":1594},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":1550},"end":{"line":95,"column":45,"offset":1594},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":96,"column":1,"offset":1595}}}}